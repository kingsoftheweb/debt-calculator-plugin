var dcmShortcodes={debtCalculator:{elements:{singleTabs:document.querySelectorAll(".single-grid-tab"),contentTabs:document.querySelectorAll(".arm_account_detail_tab.arm_account_detail_tab_content"),resultsTabs:document.querySelectorAll("td.arm-form-table-content.tab-has-result .title"),submitButton:document.querySelector(".debt-calculator input.submit"),exportPDFs:document.querySelectorAll(".results-tab a.export-pdf")},events:function(){var t=dcmShortcodes.debtCalculator;window.onload=function(){t.functions.parseUrl(),t.functions.reportsCharts()},t.elements.singleTabs.forEach((function(e){e.addEventListener("click",(function(){var a=e.getAttribute("data-id");t.functions.showTab(a),t.functions.updateUrl(a)}))})),t.elements.resultsTabs.forEach((function(e){e.addEventListener("click",(function(){e.parentElement.classList.contains("open")?e.parentElement.classList.remove("open"):(t.elements.resultsTabs.forEach((function(t){t.parentElement.classList.remove("open")})),e.parentElement.classList.add("open"))}))})),t.elements.submitButton.addEventListener("click",(function(){t.functions.addNewDebt(t.elements.submitButton)})),t.elements.exportPDFs.forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-href"),a=document.querySelector('.reports-graphics[data-id="'+t.getAttribute("data-id")+'"]').innerHTML;dcpExportHTML.functions.pdfExport(a,e)}))}))},functions:{showTab:function(t){dcmShortcodes.debtCalculator.elements.singleTabs.forEach((function(t){t.classList.remove("active")})),document.querySelector('.single-grid-tab[data-id="'+t+'"]').classList.add("active"),dcmShortcodes.debtCalculator.elements.contentTabs.forEach((function(t){t.classList.remove("active")})),document.querySelector('.arm_account_detail_tab.arm_account_detail_tab_content[data-tab="'+t+'"]').classList.add("active");var e=parseInt(document.querySelector(".arm-tabs.dcm-wrapper.dcm-shortcode").offsetHeight)+parseInt(document.querySelector(".arm-tabs.dcm-wrapper.dcm-shortcode").offsetTop);window.scrollTo({top:e,left:0,behavior:"smooth"})},parseUrl:function(){var t=new URL(location.href),e=t.searchParams.get("tab"),a=t.searchParams.get("debt_id");return null!==e?(dcmShortcodes.debtCalculator.functions.showTab(e),a):null},updateUrl:function(t){var e=new URL(location.href);return history.pushState(null,"",e.pathname+"?tab="+t),e.pathname+"?tab="+t},reportsCharts:function(){document.querySelectorAll("canvas.debts-reports.line-chart").forEach((function(t){createChart.functions.drawChart(t,t.getAttribute("data-id"),"line")})),document.querySelectorAll("canvas.debts-reports.pie-chart").forEach((function(t){createChart.functions.drawChart(t,t.getAttribute("data-id"),"pie")})),document.querySelectorAll("canvas.debts-reports.doughnut-chart").forEach((function(t){createChart.functions.drawChart(t,t.getAttribute("data-id"),"doughnut")}))},addNewDebt:function(t){var e=t.parentElement.parentElement.parentElement.querySelector('input[name="author_id"]').value,a=t.parentElement.parentElement.parentElement.querySelector('input[name="debt_name"]'),n=t.parentElement.parentElement.querySelector('input[name="debt_amount"]'),r=t.parentElement.parentElement.querySelector('input[name="yearly_interest"]');""===a.value||""===n.value||""===r.value?alert("Fill All Fields please."):jQuery.post(dcp_object.ajaxurl,{action:"add_dcp_debt",debt_title:a.value,debt_amount:n.value,yearly_interest:r.value,author_id:e},(function(t){var e=dcmShortcodes.debtCalculator.functions.updateUrl("debts-reports&debt_id="+t);location.href=e}))}},init:function(){dcmShortcodes.debtCalculator.events()}}};window.addEventListener("DOMContentLoaded",(function(t){dcmShortcodes.debtCalculator.init()}));