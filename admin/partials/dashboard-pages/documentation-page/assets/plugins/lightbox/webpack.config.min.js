"use strict";var path=require("path"),webpack=require("webpack"),MiniCssExtractPlugin=require("mini-css-extract-plugin"),devMode="production"!==process.env.NODE_ENV;function getHotCSS(e,o){return o?["css-hot-loader"].concat(e):e}var prod={mode:devMode?"development":"production",devtool:devMode?"cheap-module-source-map":"source-map",entry:["./ekko-lightbox.js","./ekko-lightbox.less"],output:{path:path.resolve(__dirname,"dist"),filename:devMode?"[name].js":"ekko-lightbox.js"},module:{rules:[{test:/\.less$/,use:getHotCSS([MiniCssExtractPlugin.loader,{loader:"css-loader",options:{sourceMap:!0}},{loader:"postcss-loader",options:{ident:"postcss",sourceMap:!0,plugins:function(e){return[require("autoprefixer")({browsers:["last 2 versions"]}),require("cssnano")()]}}},{loader:"less-loader",options:{sourceMap:!0}}],devMode)},{test:/\.js$/,exclude:/(node_modules|bower_components)/,use:{loader:"babel-loader",options:{presets:[require("babel-preset-env")]}}}]},plugins:[new MiniCssExtractPlugin({filename:devMode?"[name].css":"ekko-lightbox.css"})]};devMode?(prod.entry.push("./index.html"),prod.module.rules.push({test:/\.html$/,use:"raw-loader"})):prod.plugins.push(new webpack.BannerPlugin({banner:"Lightbox for Bootstrap by @ashleydw\nhttps://github.com/ashleydw/lightbox\n\nLicense: https://github.com/ashleydw/lightbox/blob/master/LICENSE\n",entryOnly:!0,include:"ekko-lightbox.js"})),module.exports=prod;